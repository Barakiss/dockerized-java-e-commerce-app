<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <title>Αρχική</title>
    </h:head>
 
     <h:body  class="fix-header fix-sidebar">
         
        <div id="header">
            <ui:insert name="header" >
                <ui:include src="templates/header.xhtml" />
            </ui:insert>
        </div>
   
        <div id="sidebar">
            <ui:insert name="sidebar" >
                <ui:include src="templates/sidebar.xhtml" />
            </ui:insert>
        </div>
        
               <!-- Page wrapper  -->
         <div class="page-wrapper" style="height: 1200px; min-height: 212px;">
            <!-- Bread crumb -->
            <div class="row page-titles">
                <div class="col-md-5 align-self-center">
                    <h3 class="text-primary">Αρχική</h3> </div>
                <div class="col-md-7 align-self-center">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Αρχική</a></li>
                    </ol>
                </div>
            </div>
            <!-- End Bread crumb -->
            <!-- Container fluid  -->
            <div class="container-fluid">
                <!-- Start Page Content -->
                
                           <h:panelGroup rendered="#{loginManage.getRole() == 3}">
                               <style>
                                   .vendorWidth{
                                        width: 33% !important;
                                        max-width: 33% !important;
                                        flex: auto;
                                   }
                               </style>
                    </h:panelGroup>
                <div class="row">
                    
                    <h:panelGroup rendered="#{loginManage.getRole() == 3}">
                        <div class="col-md-2 vendorWidth">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-usd f-s-40 color-primary"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countBallance(loginManage.custvend.custvendid)}</h2>
                                        <p class="m-b-0">Υπόλοιπο</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:panelGroup>    
                    
                    <h:panelGroup rendered="#{loginManage.getRole() == 1}">     
                        <div class="col-md-2 vendorWidth">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-usd f-s-40 color-primary"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countBallance(loginManage.custvend.custvendid)}</h2>
                                        <p class="m-b-0">Τζίρος</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:panelGroup>     
                             
                    <h:panelGroup rendered="#{loginManage.getRole() == 1}">     
                        <div class="col-md-2">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-file-text-o f-s-40 color-success"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countAllSallesSUMAMNT()}</h2>
                                        <p class="m-b-0">Πωλήσεις</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:panelGroup>   
                          
                             
                    <h:panelGroup rendered="#{loginManage.getRole() == 3}">     
                        <div class="col-md-2 vendorWidth">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-file-text-o f-s-40 color-success"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countAllSallesSUMAMNTbyVendor(loginManage.custvend)}</h2>
                                        <p class="m-b-0">Πωλήσεις</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:panelGroup>   
                       
                     <h:panelGroup rendered="#{loginManage.getRole() == 1}">   
                    <div class="col-md-2">
                        <div class="card p-30">
                            <div class="media">
                                <div class="media-left meida media-middle">
                                    <span><i class="fa fa-euro f-s-40 color-warning"></i></span>
                                </div>
                                <div class="media-body media-text-right">
                                    <h2>#{mainManage.countAllPSUMAMNT()}</h2>
                                    <p class="m-b-0">Αγορές</p>
                                </div>
                            </div>
                        </div>
                    </div>
                     </h:panelGroup>     
                         
                    <h:panelGroup rendered="#{loginManage.getRole() == 3}">   
                        <div class="col-md-2 vendorWidth">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-euro f-s-40 color-warning"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countAllPSUMAMNTByVendor(loginManage.custvend)}</h2>
                                        <p class="m-b-0">Αγορές</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </h:panelGroup>    
                             
                    <h:panelGroup rendered="#{loginManage.getRole() == 1}">            
                        <div class="col-md-2">
                            <div class="card p-30">
                                <div class="media">
                                    <div class="media-left meida media-middle">
                                        <span><i class="fa fa-user f-s-40 color-danger"></i></span>
                                    </div>
                                    <div class="media-body media-text-right">
                                        <h2>#{mainManage.countAllUsers()}</h2>
                                        <p class="m-b-0">Προμηθευτές</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                    <div class="col-md-2">
                        <div class="card p-30">
                            <div class="media">
                                <div class="media-left meida media-middle">
                                    <span><i class="fa fa-bars f-s-40 color-danger"></i></span>
                                </div>
                                <div class="media-body media-text-right">
                                    <h2>#{mainManage.countAllCategories()}</h2>
                                    <p class="m-b-0">Κατηγορίες</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="card p-30">
                            <div class="media">
                                <div class="media-left meida media-middle">
                                    <span><i class="fa fa-barcode f-s-40 color-danger" aria-hidden="true"></i></span>
                                </div>
                                <div class="media-body media-text-right">
                                    <h2>#{mainManage.countAllProducts(loginManage.custvend.roleid.roleid, loginManage.custvend.custvendid)}</h2>
                                    <p class="m-b-0">Προιόντα</p>
                                </div>
                            </div>
                        </div>
                    </div>
                        
                     </h:panelGroup>    
                </div>

                
                
 <h:panelGroup rendered="#{loginManage.getRole() == 1}">
               <div class="row bg-white m-l-0 m-r-0 box-shadow ">

                    <!-- column -->
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Σύνολο Πωλήσεων τις τελευταίες 5 μέρες</h4>
                                <div class="mainChart">
                                    <ul class="chart">
                                     <ui:repeat value="#{mainManage.chartOrders()}" var="chartOrders" class="col-md-12"> 
                                           <li>#{chartOrders.sumChart}€
                                               <div class="lidivChart" style="height:#{chartOrders.sumChart}px;"></div>

                                                <span> #{chartOrders.dateChart}</span>
                                           </li>
                                        
                                    </ui:repeat>
                                    </ul>
                                </div>   
                            </div>
                        </div>
                    </div>
                    <!-- column -->

                    
                   
                        <!-- column -->
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body browser">
                                   <h4 class="card-title">Τα 7 πιο δημοφιλή προϊόντα</h4>
                                <h:dataTable value="#{mainManage.getAllProductsOrderByMaxSells()}" var="orderlines" class="col-md-12"> 
                                        <h:column>
                                            <p class="f-w-600" style="text-align: left;margin-bottom: 6px;"> #{orderlines.productid.name} - #{orderlines.linesumval}€</p>
                                            <div class="progress ">
                                                <div role="progressbar" style="width: #{orderlines.linesumval/2}%; height:8px;max-width: 100%;" class="progress-bar bg-danger wow animated progress-animated"> <span class="sr-only">60% Complete</span> </div>
                                            </div>

                                            </h:column>
                                </h:dataTable>

                                </div>
                            </div>
                        </div>
                        <!-- column -->
                   
                </div>
                 </h:panelGroup>
                <!-- End PAge Content -->
            </div>
            <!-- End Container fluid  -->
        <div id="footer">
            <ui:insert name="footer" >
                <ui:include src="templates/footer.xhtml" />
            </ui:insert>
        </div>
        </div>
         <!-- END Page wrapper  -->

         
    </h:body>
</html>

